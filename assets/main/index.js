System.register("chunks:///_virtual/AnimationType.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var i;t("AnimationType",void 0),e._RF.push({},"34200NlWvBJrpiRwWsaUMn0","AnimationType",void 0),function(t){t[t.FlyTop=0]="FlyTop",t[t.FlyBottom=1]="FlyBottom",t[t.FlyLeft=2]="FlyLeft",t[t.FlyRight=3]="FlyRight",t[t.Scale=4]="Scale",t[t.Fade=5]="Fade"}(i||(i=t("AnimationType",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,i,o;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy,i=e.director,o=e.Director}],execute:function(){r._RF.push({},"bd8cbDC2ylKGaZnbVHKcPBa","AsyncUtils",void 0);e("AsyncUtils",function(){function e(){}return e.delay=function(e){return new Promise((function(n){return setTimeout(n,e)}))},e.waitForSeconds=function(e){return this.delay(1e3*e)},e.waitForNextFrame=function(){return new Promise((function(e){i.once(o.EVENT_AFTER_UPDATE,(function n(){i.off(o.EVENT_AFTER_UPDATE,n),e()}))}))},e.waitForCondition=function(){var e=n(t().mark((function e(n,r,i){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===r&&(r=50),void 0===i&&(i=5e3),o=performance.now();case 3:if(!(performance.now()-o<i)){e.next=10;break}if(!n()){e.next=6;break}return e.abrupt("return",!0);case 6:return e.next=8,this.delay(r);case 8:e.next=3;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),e.waitForFrames=function(){var e=n(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n)){e.next=7;break}return e.next=4,this.waitForNextFrame();case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.withTimeout=function(e,n){return new Promise((function(t,r){var i=setTimeout((function(){return r(new Error("AsyncUtils: Timeout exceeded"))}),n);e.then((function(e){clearTimeout(i),t(e)}),(function(e){clearTimeout(i),r(e)}))}))},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/BetManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ChipEntry.ts","./EventManager.ts","./GameEvent.ts","./SFXEnums.ts"],(function(t){"use strict";var e,n,i,r,s,a,c,o,h,u,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,c=t.CCInteger,o=t.Component},function(t){h=t.ChipEntry},function(t){u=t.EventManager},function(t){p=t.GameEvent},function(t){l=t.SFXID}],execute:function(){var E,B,f,g,m,v,C;s._RF.push({},"d08b8Ug3UBL+p75yPU3Garm","BetManager",void 0);var d=a.ccclass,y=a.property;t("BetManager",(E=d("BetManager"),B=y({type:[h]}),f=y({type:c}),E((v=e((m=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"chips",v,r(e)),i(e,"maxBet",C,r(e)),e.selectedChips=[],e.currentBet=0,e.previousBet=[],e}n(e,t);var s=e.prototype;return s.start=function(){u.instance.gameEvents.on(p.CHIP_SELECTED,this.addChip,this),u.instance.gameEvents.on(p.GAME_RESET,this.clearBet,this),u.instance.gameEvents.emit(p.CHIP_ENTRY_READY,this.chips,this.maxBet,this)},s.onDestroy=function(){u.instance.gameEvents.off(p.CHIP_SELECTED,this.addChip,this)},s.addChip=function(t){this.currentBet+t.value>this.maxBet?console.warn("Max bet reached"):(this.selectedChips.push(t),this.currentBet+=Number(t.value),this.currentBet=Math.round(100*this.currentBet)/100,console.log("Current bet: "+this.currentBet),u.instance.gameEvents.emit(p.ADD_CHIP_UI,t,this),u.instance.gameEvents.emit(p.UPDATE_BET_VALUE,this.currentBet,this),u.instance.gameEvents.emit(p.PLAY_SFX,l.Chip,this))},s.clearBet=function(){this.previousBet=this.getSelectedChips(),this.selectedChips=[],this.currentBet=0,u.instance.gameEvents.emit(p.UPDATE_BET_VALUE,this.currentBet,this)},s.reBet=function(){var t=this;this.previousBet.length>0&&this.previousBet.forEach((function(e){t.addChip(e)}))},s.getTotalBet=function(){return this.currentBet},s.getSelectedChips=function(){return[].concat(this.selectedChips)},e}(o)).prototype,"chips",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(m.prototype,"maxBet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),g=m))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/BetUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./ChipButton.ts","./SFXEnums.ts","./GenericAnimation.ts"],(function(t){"use strict";var e,n,i,a,s,o,r,c,u,h,l,p,f,g,b,m,v,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Button,c=t.Node,u=t.Prefab,h=t.Label,l=t.instantiate,p=t.Vec2,f=t.Component},function(t){g=t.EventManager},function(t){b=t.GameEvent},function(t){m=t.ChipButton},function(t){v=t.SFXID},function(t){B=t.GenericAnimation}],execute:function(){var E,A,P,S,C,y,d,_,I,R,T,D,U,k,M,w,G;s._RF.push({},"e7954KJNWlC644a3Xy+3osH","BetUIManager",void 0);var z=o.ccclass,x=o.property;t("BetUIManager",(E=z("BetUIManager"),A=x(r),P=x(r),S=x(c),C=x(c),y=x(u),d=x(h),_=x(h),E((T=e((R=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"potResetButton",T,a(e)),i(e,"rebetButton",D,a(e)),i(e,"bettingArea",U,a(e)),i(e,"potArea",k,a(e)),i(e,"chipButtonPrefab",M,a(e)),i(e,"totalBet",w,a(e)),i(e,"maxBet",G,a(e)),e.chipButtons=[],e.chipStacks=new Map,e.chipStackPositions=new Map,e}n(e,t);var s=e.prototype;return s.start=function(){g.instance.gameEvents.on(b.CHIP_ENTRY_READY,this.setupChipButtons,this),g.instance.gameEvents.on(b.ADD_CHIP_UI,this.addChip,this),g.instance.gameEvents.on(b.UPDATE_BET_VALUE,this.updateBetValue,this),g.instance.gameEvents.on(b.GAME_STARTED,this.onGameStarted,this),g.instance.gameEvents.on(b.GAME_RESET,this.resetUI,this),this.resetUI(),this.rebetButton.interactable=!1;var t=this.rebetButton.transition;this.rebetButton.transition=r.Transition.COLOR,this.rebetButton.transition=t},s.resetUI=function(){console.log("Resetting ChipUI..."),this.chipButtons.forEach((function(t){t.setInteractable(!0)})),this.rebetButton.interactable=!0,this.potArea.removeAllChildren(),this.resetPot();var t=this.bettingArea.parent.getComponent(B);t.setTargetAsOriginalPos(),t.animateEntry()},s.onDestroy=function(){g.instance.gameEvents.off(b.CHIP_ENTRY_READY,this.setupChipButtons,this),g.instance.gameEvents.off(b.ADD_CHIP_UI,this.addChip,this),g.instance.gameEvents.off(b.UPDATE_BET_VALUE,this.updateBetValue,this),g.instance.gameEvents.off(b.GAME_STARTED,this.onGameStarted,this),g.instance.gameEvents.off(b.GAME_RESET,this.resetUI,this)},s.setupChipButtons=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],a=l(this.chipButtonPrefab);a.setParent(this.bettingArea);var s=a.getComponent(m);this.chipButtons.push(s),s.setup(i),a.setPosition(0,0)}this.maxBet.string="Max bet $"+e},s.addChip=function(t){var e=0;this.chipStackPositions.has(t.value)||(this.chipStacks.set(t.value,0),this.chipStackPositions.set(t.value,new p(this.chipStackPositions.size,0)));var n=this.chipStacks.get(t.value),i=this.chipStackPositions.get(t.value).x;if(e=this.chipStackPositions.get(t.value).y+1,n>=20)console.log("Too many chips for one type, stop displaying new chip");else{n%5==0&&(e=e-5-4);var a=l(this.chipButtonPrefab);a.setParent(this.potArea);var s=a.getComponent(m);s.setup(t),s.setInteractable(!1),a.setPosition(0+60*i,0+10*e),this.chipStacks.set(t.value,n+1),this.chipStackPositions.set(t.value,new p(i,e))}},s.updateBetValue=function(t){this.totalBet.string="Bet: $"+t,t<=0?this.resetPot():this.potResetButton.interactable=!0},s.resetPot=function(){this.potArea.removeAllChildren(),this.chipStacks.clear(),this.chipStackPositions.clear(),this.potResetButton.interactable=!1,g.instance.gameEvents.emit(b.PLAY_SFX,v.Chip,this)},s.onGameStarted=function(){this.bettingArea.parent.getComponent(B).animateExit()},e}(f)).prototype,"potResetButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(R.prototype,"rebetButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(R.prototype,"bettingArea",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(R.prototype,"potArea",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(R.prototype,"chipButtonPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(R.prototype,"totalBet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(R.prototype,"maxBet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=R))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/BGMEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BGMID.ts"],(function(t){"use strict";var e,i,r,n,o,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,o=t.Enum,c=t.AudioClip},function(t){u=t.BGMID}],execute:function(){var l,a,p,s,y,f,M;r._RF.push({},"0f2ddFoKaFM1pQ01xImtet6","BGMEntry",void 0);var d=n.ccclass,b=n.property;t("BGMEntry",(l=d("BGMEntry"),a=b({type:o(u)}),p=b({type:c}),l((f=e((y=function(){i(this,"id",f,this),i(this,"clip",M,this)}).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.MainMenu}}),M=e(y.prototype,"clip",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=y))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/BGMID.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c;e("BGMID",void 0),t._RF.push({},"b78c9uJHqlKbKJKre4ciZIT","BGMID",void 0),function(e){e[e.MainMenu=0]="MainMenu",e[e.Gameplay=1]="Gameplay",e[e.Victory=2]="Victory",e[e.Defeat=3]="Defeat"}(c||(c=e("BGMID",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/BGMManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BGMEntry.ts"],(function(e){"use strict";var r,t,i,o,n,a,c,s,u,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,c=e._decorator,s=e.AudioSource,u=e.Component},function(e){l=e.BGMEntry}],execute:function(){var p,g,b,f,m,M,h;a._RF.push({},"d8b0frQPh5OJqG1Am8NUgt0","BGMManager",void 0);var y=c.ccclass,v=c.property;e("BGMManager",(p=y("BGMManager"),g=v(s),b=v({type:[l]}),p((M=r((m=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,i(r,"bgmSource",M,o(r)),i(r,"bgmEntries",h,o(r)),r.bgmMap=new Map,r}t(r,e);var a=r.prototype;return a.onLoad=function(){for(var e,r=n(this.bgmEntries);!(e=r()).done;){var t=e.value;this.bgmMap.set(t.id,t.clip)}},a.playBGM=function(e,r){void 0===r&&(r=!0);var t=this.bgmMap.get(e);t&&(this.bgmSource.stop(),this.bgmSource.clip=t,this.bgmSource.loop=r,this.bgmSource.play())},r}(u)).prototype,"bgmSource",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=r(m.prototype,"bgmEntries",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardAsset.ts","./EventManager.ts","./GameEvent.ts","./SFXEnums.ts"],(function(t){"use strict";var e,n,a,r,i,s,c,o,u,l,p,d,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator,s=t.Sprite,c=t.Component,o=t.tween,u=t.Vec3},function(t){l=t.CardAsset},function(t){p=t.EventManager},function(t){d=t.GameEvent},function(t){f=t.SFXID}],execute:function(){var h;r._RF.push({},"e396avruaJIdbdNpR39MdzA","Card",void 0);var m=i.ccclass;i.property,t("Card",m("Card")(h=function(t){function r(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).cardSprite=null,e.rankLabel=null,e.suitLabel=null,e.suit="",e.rank="",e.values=[],e.isFaceDown=!0,e.cardData=null,e}e(r,t);var i=r.prototype;return i.onLoad=function(){this.cardSprite=this.node.getComponent(s)},i.init=function(t){this.suit=t.suit,this.rank=t.rank,this.values=t.values,this.cardSprite||(this.cardSprite=this.node.getComponent(s)),this.cardSprite.spriteFrame=l.backSpriteFrame,this.node.name=t.rank+"_of_"+t.suit,this.cardData=t},i.getValues=function(){return this.values},i.getName=function(){return this.rank+" of "+this.suit},i.flipCard=function(){var t=n(a().mark((function t(){var e,n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.node.scale.clone(),console.log("Flipping card:",this.getName(),"Is face down:",this.cardData.isFaceDown),p.instance.gameEvents.emit(d.PLAY_SFX,f.CardFlip,this),t.next=5,new Promise((function(t){o(n.node).to(.2,{scale:new u(0,e.y,e.z)}).call((function(){n.isFaceDown?n.cardSprite.spriteFrame=n.cardData.spriteFrame:n.cardSprite.spriteFrame=l.backSpriteFrame})).to(.2,{scale:e}).call((function(){n.isFaceDown=!n.isFaceDown,console.log("Card flipped:",n.getName(),"Is face down now:",n.isFaceDown)})).call(t).start()}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r}(c))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/CardAsset.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e308akf1GVL3rkWLtL462S8","CardAsset",void 0);t("CardAsset",{backSpriteFrame:null});e._RF.pop()}}}));

System.register("chunks:///_virtual/CardData.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"55ff3nizsVDia/+0bXMjkqg","CardData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ChipButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts"],(function(t){"use strict";var n,e,i,r,o,s,c,a,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,r=t.Sprite,o=t.Label,s=t.Button,c=t.Component},function(t){a=t.EventManager},function(t){p=t.GameEvent}],execute:function(){var u;e._RF.push({},"7e783l0UeJB3bOowfHZqLBZ","ChipButton",void 0);var h=i.ccclass;i.property,t("ChipButton",h("ChipButton")(u=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return(n=t.call.apply(t,[this].concat(i))||this).chipEntry=void 0,n.isInteractable=!0,n}n(e,t);var i=e.prototype;return i.setup=function(t){var n=this;this.chipEntry=t,this.node.getComponent(r).spriteFrame=this.chipEntry.sprite,this.node.getComponentInChildren(o).string=this.chipEntry.text,this.node.on(s.EventType.CLICK,(function(){1==n.isInteractable&&a.instance.gameEvents.emit(p.CHIP_SELECTED,n.chipEntry)}),this)},i.setInteractable=function(t){this.isInteractable=t},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ChipEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,l=t.SpriteFrame,o=t.CCFloat}],execute:function(){var u,a,p,c,s,y,f,b;r._RF.push({},"f4b51iIvlxA/byunJlgPqIg","ChipEntry",void 0);var h=n.ccclass,g=n.property;t("ChipEntry",(u=h("ChipEntry"),a=g({type:l}),p=g({type:o}),u((y=e((s=function(){i(this,"sprite",y,this),i(this,"value",f,this),i(this,"text",b,this)}).prototype,"sprite",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(s.prototype,"value",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(s.prototype,"text",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=s))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/Dealer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Participant.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Participant}],execute:function(){n._RF.push({},"4053843dDZINYWydrxSAKS8","Dealer",void 0);t("Dealer",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.shouldHit=function(){return this.getHandValue()<17},r.hasAceFaceUp=function(){return!1},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/Deck.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,s;return{setters:[function(t){r=t.extends},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"4e0a8nNSDNOJqxynrmrj65G","Deck",void 0);t("Deck",function(){function t(t,r){void 0===r&&(r=1),this.cards=[],this.buildDeck(t,r),this.shuffle()}var s=t.prototype;return s.buildDeck=function(t,s){this.cards=[];for(var n=0;n<s;n++){var i;(i=this.cards).push.apply(i,t.map((function(t){return r({},t)})))}},s.shuffle=function(){for(var t=this.cards.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),s=[this.cards[r],this.cards[t]];this.cards[t]=s[0],this.cards[r]=s[1]}},s.peak=function(t){return t>=0&&t<this.cards.length?this.cards[t]:null},s.deal=function(){return this.cards.length>0?this.cards.pop():null},s.remaining=function(){return this.cards.length},s.reset=function(t,r){void 0===r&&(r=1),this.buildDeck(t,r),this.shuffle()},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/DeckManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardAsset.ts","./Deck.ts","./EventManager.ts","./GameEvent.ts"],(function(e){"use strict";var t,r,a,n,o,s,i,c,d,l,u,p,f,h;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e._decorator,s=e.resources,i=e.JsonAsset,c=e.SpriteFrame,d=e.SpriteAtlas,l=e.Component},function(e){u=e.CardAsset},function(e){p=e.Deck},function(e){f=e.EventManager},function(e){h=e.GameEvent}],execute:function(){var m;n._RF.push({},"ed462+8DFFGPJCNknxnkNxE","DeckManager",void 0);var D=o.ccclass;o.property,e("DeckManager",D("DeckManager")(m=function(e){function n(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).loadedCardData=[],t.cardDeck=null,t}t(n,e);var o=n.prototype;return o.start=function(){this.loadedCardData.length;f.instance.gameEvents.on(h.GAME_RESET,this.resetDeck,this)},o.onDestroy=function(){f.instance.gameEvents.off(h.GAME_RESET,this.resetDeck,this)},o.onLoad=function(){var e=this;s.load("deck",i,(function(t,r){t?console.error("Failed to load card data:",t):(e.loadedCardData=r.json,e.loadSpriteFromAtlas())}))},o.loadSprites=function(){var e=this,t=this.loadedCardData.map((function(t){return e.loadSpriteFrame("sprites/Cards/"+t.sprite+"/spriteFrame").then((function(e){t.spriteFrame=e})).catch((function(e){console.error("Failed to load sprite for "+t.rank+" of "+t.suit+":",e)}))}));t.push(u.backSpriteFrame?Promise.resolve():this.loadSpriteFrame("sprites/Cards/back01/spriteFrame").then((function(e){u.backSpriteFrame=e}))),Promise.all(t).then((function(){console.log("All sprites loaded, starting game..."),e.cardDeck=new p(e.loadedCardData,2),f.instance.gameEvents.emit(h.DECK_LOADED)})).catch((function(e){console.error("Error loading deck:",e)}))},o.loadSpriteFrame=function(e){return new Promise((function(t,r){s.load(e,c,(function(e,a){e?r(e):t(a)}))}))},o.loadSpriteAtlas=function(){return new Promise((function(e,t){s.load("Cards/card",d,(function(r,a){r?(console.error("Atlas load error:",r),t(r)):(console.log("Atlas load success"),e(a))}))}))},o.loadSpriteFromAtlas=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSpriteAtlas();case 2:t=e.sent,this.loadedCardData.forEach((function(e){var r=t.getSpriteFrame(e.sprite);r?e.spriteFrame=r:console.error("Failed to load spriteFrame:"+e.sprite)})),u.backSpriteFrame=t.getSpriteFrame("BACK_1"),this.cardDeck=new p(this.loadedCardData,2),f.instance.gameEvents.emit(h.DECK_LOADED);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.dealCard=function(){return this.cardDeck?this.cardDeck.deal():null},o.resetDeck=function(){this.loadedCardData.length>0&&(console.log("Resetting deck..."),this.cardDeck.reset(this.loadedCardData,2),f.instance.gameEvents.emit(h.DECK_LOADED))},n}(l))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,r,s,a,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.EventTarget,c=e.Component}],execute:function(){var i,o;r._RF.push({},"720c6VaEflArbOlZ8L86/KH","EventManager",void 0);var u=s.ccclass;s.property,e("EventManager",u("EventManager")(((o=function(e){function r(){var n;return(n=e.call(this)||this).gameEvents=void 0,n.sfxEvents=void 0,n.gameEvents=new a,n}return n(r,e),t(r,null,[{key:"instance",get:function(){return this._instance||(this._instance=new r),this._instance}}]),r}(c))._instance=void 0,i=o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){var t;e("GameEvent",void 0),E._RF.push({},"c06c4NK4XlKCIImdeZl1QdI","GameEvent",void 0),function(e){e.GAMESTATE_CHANGED="game-state-change",e.CHIP_ENTRY_READY="chip-entry-ready",e.CHIP_SELECTED="chip-selected",e.ADD_CHIP_UI="add-chip-ui",e.UPDATE_BET_VALUE="add-bet-value",e.DECK_LOADED="deck-loaded",e.DEAL_CARD="deal-card",e.ANIMATION_FINISHED="animation-finished",e.OFFER_INSURANCE="offer-insurance",e.SPLIT_HAND="split-hand",e.CHANGE_HAND="change-hand",e.DEALER_TURN_END="dealer-turn-end",e.GAME_STARTED="game-started",e.GAME_ENDED="game-ended",e.GAME_RESET="game-reset",e.LOCK_INPUT="lock-input",e.UNLOCK_INPUT="unlock-input",e.PLAY_SFX="play-sfx"}(t||(t=e("GameEvent",{}))),E._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DeckManager.ts","./EventManager.ts","./GameEvent.ts","./GameState.ts","./GameResult.ts","./Player.ts","./Dealer.ts","./SFXEnums.ts"],(function(e){"use strict";var t,a,n,s,i,r,c,h,d,l,o,m,u,g,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,c=e.Component},function(e){h=e.DeckManager},function(e){d=e.EventManager},function(e){l=e.GameEvent},function(e){o=e.GameState},function(e){m=e.GameResult},function(e){u=e.Player},function(e){g=e.Dealer},function(e){E=e.SFXID}],execute:function(){var p,D,v,y,f;i._RF.push({},"08c86QVXQtNfqsdntmI/7E9","GameManager",void 0);var A=r.ccclass,H=r.property;e("GameManager",(p=A("GameManager"),D=H(h),p((f=t((y=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"deckManager",f,s(t)),t.players=[],t.dealer=new g,t.gameState=o.BetPhase,t.currentHandIndex=0,t.isDoubling=!1,t}a(t,e);var i=t.prototype;return i.start=function(){d.instance.gameEvents.on(l.DECK_LOADED,this.onDeckLoaded,this),d.instance.gameEvents.on(l.ANIMATION_FINISHED,this.onAnimationFinished,this),d.instance.gameEvents.emit(l.GAMESTATE_CHANGED,this.gameState),this.players.push(new u("Player 1",0))},i.onDestroy=function(){d.instance.gameEvents.off(l.DECK_LOADED,this.onDeckLoaded,this),d.instance.gameEvents.off(l.ANIMATION_FINISHED,this.onAnimationFinished,this)},i.onDeckLoaded=function(e){console.log("Game started with deck:",e)},i.initialDeal=function(){this.changeGameState(o.InitialDeal),d.instance.gameEvents.emit(l.LOCK_INPUT);for(var e=0;e<2;e++){var t=this.deckManager.dealCard(),a=this.deckManager.dealCard();t&&this.players[this.currentHandIndex].addCard(t),a&&this.dealer.addCard(a)}d.instance.gameEvents.emit(l.DEAL_CARD,this.players[this.currentHandIndex]),d.instance.gameEvents.emit(l.DEAL_CARD,this.dealer),this.dealer.hasAceFaceUp()&&d.instance.gameEvents.emit(l.OFFER_INSURANCE),d.instance.gameEvents.emit(l.GAME_STARTED,this.players[this.currentHandIndex])},i.onAnimationFinished=function(e){var t=this;if(console.log("Animation finished for:",e instanceof u?"Player":"Dealer"),this.gameState===o.InitialDeal&&e instanceof u&&(this.changeGameState(o.PlayerTurn),(this.players[this.currentHandIndex].hasBlackjack()||this.dealer.hasBlackjack())&&(this.dealer.revealAll=!0,this.endGame())),this.gameState===o.PlayerTurn&&e instanceof u&&this.players[this.currentHandIndex].isBusted()&&(this.currentHandIndex+1==this.players.length?this.dealerPlay():(this.currentHandIndex++,d.instance.gameEvents.emit(l.CHANGE_HAND,this.currentHandIndex))),this.gameState===o.PlayerTurnEnd&&e instanceof u&&(this.dealer.revealAll=!0,this.dealerPlay()),this.gameState===o.DealerTurnEnd&&e instanceof g){this.changeGameState(o.GameEnd);var a=[];this.players.forEach((function(e){a.push(t.determineWinner(e.getIndex()))})),d.instance.gameEvents.emit(l.GAME_ENDED,a)}d.instance.gameEvents.emit(l.UNLOCK_INPUT)},i.playerHit=function(){d.instance.gameEvents.emit(l.LOCK_INPUT);var e=this.deckManager.dealCard();e&&(this.players[this.currentHandIndex].addCard(e),console.log("Hand "+this.currentHandIndex+" count: "+this.players[this.currentHandIndex].getHand().length),d.instance.gameEvents.emit(l.DEAL_CARD,this.players[this.currentHandIndex]))},i.playerStand=function(){d.instance.gameEvents.emit(l.LOCK_INPUT),console.log("Player stands with hand:",this.players[this.currentHandIndex].getHand()),this.currentHandIndex+1==this.players.length?this.dealerPlay():(this.currentHandIndex++,d.instance.gameEvents.emit(l.CHANGE_HAND,this.currentHandIndex),d.instance.gameEvents.emit(l.UNLOCK_INPUT))},i.playerDouble=function(){d.instance.gameEvents.emit(l.LOCK_INPUT);var e=this.deckManager.dealCard();e&&(this.players[this.currentHandIndex].addCard(e),d.instance.gameEvents.emit(l.DEAL_CARD,this.players[this.currentHandIndex])),this.currentHandIndex+1==this.players.length?this.changeGameState(o.PlayerTurnEnd):(this.currentHandIndex++,d.instance.gameEvents.emit(l.CHANGE_HAND,this.currentHandIndex)),this.isDoubling=!0},i.playerSplit=function(){if(console.log("player split"),this.players[this.currentHandIndex].canSplit()){var e=this.players[this.currentHandIndex].splitHand(),t=new u("Player 1",this.currentHandIndex+1);t.addCard(e),this.players.push(t),d.instance.gameEvents.emit(l.SPLIT_HAND)}},i.dealerPlay=function(){for(d.instance.gameEvents.emit(l.LOCK_INPUT),this.changeGameState(o.DealerTurn),this.players.every((function(e){return e.isBusted()}))&&(console.log("All player's hands are busted"),this.endGame());this.dealer.shouldHit();){var e=this.deckManager.dealCard();e&&(this.dealer.addCard(e),console.log("Dealer hits and receives:",e),d.instance.gameEvents.emit(l.DEAL_CARD,this.dealer))}console.log("Dealer Hand now:",this.dealer.getHand()),this.endGame()},i.determineWinner=function(e){var t,a=this.players[e],n=a.getHandValue(),s=this.dealer.getHandValue();return a.hasBlackjack()&&this.dealer.hasBlackjack()?(this.changeGameState(o.Draw),t=m.Draw):a.hasBlackjack()?(this.changeGameState(o.Win),t=m.Win,d.instance.gameEvents.emit(l.PLAY_SFX,E.Win,this)):this.dealer.hasBlackjack()||a.isBusted()?(this.changeGameState(o.Lose),t=m.Lose,d.instance.gameEvents.emit(l.PLAY_SFX,E.Lose,this)):this.dealer.isBusted()||n>s?(this.changeGameState(o.Win),t=m.Win,d.instance.gameEvents.emit(l.PLAY_SFX,E.Win,this)):s>n?(this.changeGameState(o.Lose),t=m.Lose,d.instance.gameEvents.emit(l.PLAY_SFX,E.Lose,this)):(t=m.Draw,this.changeGameState(o.Draw)),d.instance.gameEvents.emit(l.GAMESTATE_CHANGED,this.gameState),t},i.endGame=function(){d.instance.gameEvents.emit(l.DEALER_TURN_END),this.changeGameState(o.DealerTurnEnd)},i.resetGame=function(){this.players.forEach((function(e){e.resetHand()})),this.players=[],this.players.push(new u("Player 1",0)),this.dealer.resetHand(),this.dealer.revealAll=!1,d.instance.gameEvents.emit(l.GAME_RESET),this.changeGameState(o.BetPhase),this.currentHandIndex=0},i.changeGameState=function(e){this.gameState=e,d.instance.gameEvents.emit(l.GAMESTATE_CHANGED,this.gameState)},t}(c)).prototype,"deckManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameResult.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var s;e("GameResult",void 0),t._RF.push({},"02151UUWMtHWZXICZN4Xhrj","GameResult",void 0),function(e){e[e.Win=0]="Win",e[e.Lose=1]="Lose",e[e.Draw=2]="Draw"}(s||(s=e("GameResult",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameResultEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameResult.ts"],(function(e){"use strict";var t,r,i,n,u,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e._decorator,u=e.Enum,s=e.SpriteFrame},function(e){a=e.GameResult}],execute:function(){var l,o,c,p,m,y,f;i._RF.push({},"d1a829Js51PGKRXmzq0xkVS","GameResultEntry",void 0);var R=n.ccclass,b=n.property;e("GameResultEntry",(l=R("GameResultEntry"),o=b({type:u(a)}),c=b({type:s}),l((y=t((m=function(){r(this,"result",y,this),r(this,"spriteFrame",f,this)}).prototype,"result",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.Win}}),f=t(m.prototype,"spriteFrame",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=m))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameState.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var n;e("GameState",void 0),a._RF.push({},"5400f0RNPJKirsI/V6j5FAh","GameState",void 0),function(e){e[e.BetPhase=0]="BetPhase",e[e.InitialDeal=1]="InitialDeal",e[e.PlayerTurn=2]="PlayerTurn",e[e.PlayerTurnEnd=3]="PlayerTurnEnd",e[e.DealerTurn=4]="DealerTurn",e[e.DealerTurnEnd=5]="DealerTurnEnd",e[e.GameEnd=6]="GameEnd",e[e.Win=7]="Win",e[e.Lose=8]="Lose",e[e.Draw=9]="Draw"}(n||(n=e("GameState",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameState.ts"],(function(t){"use strict";var e,r,a,i,n,o,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t._decorator,n=t.Enum,o=t.SpriteFrame},function(t){c=t.GameState}],execute:function(){var u,l,s,p,m,y,f;a._RF.push({},"56fa2VHrhVM8L1btw/FAVll","GameStateEntry",void 0);var S=i.ccclass,b=i.property;t("GameStateEntry",(u=S("GameStateEntry"),l=b({type:n(c)}),s=b({type:o}),u((y=e((m=function(){r(this,"gameState",y,this),r(this,"spriteFrame",f,this)}).prototype,"gameState",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.BetPhase}}),f=e(m.prototype,"spriteFrame",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=m))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/GenericAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimationType.ts"],(function(t){"use strict";var i,n,e,o,a,s,r,c,l,h,u,p,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Enum,c=t.Vec3,l=t.view,h=t.UIOpacity,u=t.tween,p=t.Component},function(t){y=t.AnimationType}],execute:function(){var d,m,f,g,T,w,b,v,A,S,D,z;a._RF.push({},"00977h5jdpPVqD5KSiGRVKK","GenericAnimation",void 0);var F=s.ccclass,P=s.property;t("GenericAnimation",(d=F("GenericAnimation"),m=P({type:r(y)}),f=P({type:r(y)}),g=P(c),T=P({visible:function(){return this.entryAnimationType===y.Fade||this.exitAnimationType===y.Fade}}),d((v=i((b=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this).screenSize=l.getVisibleSize(),e(i,"animationDuration",v,o(i)),e(i,"entryAnimationType",A,o(i)),e(i,"exitAnimationType",S,o(i)),e(i,"onscreenTarget",D,o(i)),e(i,"initialOpacity",z,o(i)),i.originalPos=null,i.isShown=!1,i}n(i,t);var a=i.prototype;return a.onLoad=function(){this.originalPos=this.node.position.clone(),this.node.getComponent(h)||this.node.addComponent(h)},a.animateEntry=function(t){switch(this.node.active=!0,this.entryAnimationType){case y.FlyBottom:this.node.setPosition(new c(0,-this.screenSize.height,0)),u(this.node).to(this.animationDuration,{position:this.onscreenTarget}).call((function(){return null==t?void 0:t()})).start();break;case y.FlyTop:this.node.setPosition(new c(0,this.screenSize.height,0)),u(this.node).to(this.animationDuration,{position:this.onscreenTarget}).call((function(){return null==t?void 0:t()})).start();break;case y.FlyLeft:this.node.setPosition(new c(-this.screenSize.width,0,0)),u(this.node).to(this.animationDuration,{position:this.onscreenTarget}).call((function(){return null==t?void 0:t()})).start();break;case y.FlyRight:this.node.setPosition(new c(this.screenSize.width,0,0)),u(this.node).to(this.animationDuration,{position:this.onscreenTarget}).call((function(){return null==t?void 0:t()})).start();break;case y.Scale:this.node.setScale(new c(0,0,1)),u(this.node).to(this.animationDuration,{scale:new c(1,1,1)}).call((function(){return null==t?void 0:t()})).start();break;case y.Fade:var i=this.node.getComponent(h);i.opacity=0,u(i).to(this.animationDuration,{opacity:this.initialOpacity}).start()}this.isShown=!0},a.animateExit=function(t){var i=this;switch(this.exitAnimationType){case y.FlyBottom:this.node.setPosition(this.onscreenTarget),u(this.node).to(this.animationDuration,{position:new c(0,-this.screenSize.height,0)}).call((function(){null==t||t(),i.node.active=!1})).start();break;case y.FlyTop:this.node.setPosition(this.onscreenTarget),u(this.node).to(this.animationDuration,{position:new c(0,this.screenSize.height,0)}).call((function(){null==t||t(),i.node.active=!1})).start();break;case y.FlyLeft:this.node.setPosition(this.onscreenTarget),u(this.node).to(this.animationDuration,{position:new c(-this.screenSize.width,0,0)}).call((function(){null==t||t(),i.node.active=!1})).start();break;case y.FlyRight:this.node.setPosition(this.onscreenTarget),u(this.node).to(this.animationDuration,{position:new c(this.screenSize.width,0,0)}).call((function(){null==t||t(),i.node.active=!1})).start();break;case y.Scale:this.node.setScale(new c(1,1,1)),u(this.node).to(this.animationDuration,{scale:new c(0,0,1)}).call((function(){null==t||t(),i.node.active=!1})).start();break;case y.Fade:var n=this.node.getComponent(h);n.opacity=this.initialOpacity,u(n).to(this.animationDuration,{opacity:0}).call((function(){null==t||t(),i.node.active=!1})).start()}this.isShown=!1},a.setEntryAnimation=function(t){this.entryAnimationType=t},a.setExitAnimation=function(t){this.exitAnimationType=t},a.setOnscreenTarget=function(t){this.onscreenTarget=t.clone()},a.setTargetAsOriginalPos=function(){this.onscreenTarget=this.originalPos.clone()},a.setInitialOpacity=function(t){this.initialOpacity=t},i}(p)).prototype,"animationDuration",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.75}}),A=i(b.prototype,"entryAnimationType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.FlyTop}}),S=i(b.prototype,"exitAnimationType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.FlyTop}}),D=i(b.prototype,"onscreenTarget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0)}}),z=i(b.prototype,"initialOpacity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 255}}),w=b))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GenericPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./PopupPage.ts","./GenericAnimation.ts","./SFXEnums.ts"],(function(t){"use strict";var e,n,i,a,r,o,s,u,c,l,h,p,g,f,P,m,b,d,v,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.Label,h=t.Node,p=t.Prefab,g=t.Button,f=t.instantiate,P=t.Component},function(t){m=t.EventManager},function(t){b=t.GameEvent},function(t){d=t.PopupPage},function(t){v=t.GenericAnimation},function(t){x=t.SFXID}],execute:function(){var B,y,E,C,w,A,I,T,G,S,F,L,z,_,k;u._RF.push({},"6906bO5ZJxLTKlisCgF8PU1","GenericPopup",void 0);var D=c.ccclass,X=c.property;t("GenericPopup",(B=D("GenericPopup"),y=X(l),E=X(l),C=X(h),w=X(p),A=X(g),I=X(g),B((S=e((G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).anims=[],i(e,"titleText",S,a(e)),i(e,"messageText",F,a(e)),i(e,"buttonContainer",L,a(e)),i(e,"defaultButtonPrefab",z,a(e)),e.isShown=!1,e.currentPageIndex=0,i(e,"nextPageBtn",_,a(e)),i(e,"prevPageBtn",k,a(e)),e.popupPages=[],e}n(e,t);var u=e.prototype;return u.onLoad=function(){0==this.anims.length&&this.getGenericAnimation(this.node)},u.show=function(){var t=o(s().mark((function t(e,n,i,a,o){var u,c,l,h,p,g=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.node.active=!0,0==this.anims.length&&this.getGenericAnimation(this.node),this.nextPageBtn.node.active=!1,this.prevPageBtn.node.active=!1,this.titleText.string=e,"string"==typeof n?this.messageText.string=n:Array.isArray(n)&&n.every((function(t){return t instanceof d}))&&(this.currentPageIndex=0,n.forEach((function(t){g.popupPages[t.pageNumber]=t.content})),this.messageText.string=this.popupPages[this.currentPageIndex],this.popupPages.length>1&&(this.nextPageBtn.node.active=!0,this.prevPageBtn.node.active=!0,this.nextPageBtn.interactable=!0,this.prevPageBtn.interactable=!1)),a.length>0)for(u=0;u<this.anims.length;u++)this.anims[u].setEntryAnimation(a[u]);if(o.length>0)for(c=0;c<this.anims.length;c++)this.anims[c].setExitAnimation(o[c]);for(this.buttonContainer.removeAllChildren(),l=r(i);!(h=l()).done;)p=h.value,this.addButton(p);this.anims.forEach((function(t){t.animateEntry()})),this.isShown=!0;case 12:case"end":return t.stop()}}),t,this)})));return function(e,n,i,a,r){return t.apply(this,arguments)}}(),u.setPopupScale=function(t){this.node.scale=t},u.close=function(){var t=this;this.anims.forEach((function(e){e.animateExit((function(){t.node.active=!1}))})),this.isShown=!1},u.getGenericAnimation=function(t){var e=t.getComponent(v);e&&this.anims.push(e);for(var n,i=r(t.children);!(n=i()).done;){var a=n.value;this.getGenericAnimation(a)}},u.shown=function(){return this.isShown},u.nextPage=function(){this.currentPageIndex++,this.messageText.string=this.popupPages[this.currentPageIndex],this.prevPageBtn.interactable=!1,this.nextPageBtn.interactable=!1,this.currentPageIndex+1<this.popupPages.length&&(this.nextPageBtn.interactable=!0),this.currentPageIndex>0&&(this.prevPageBtn.interactable=!0),m.instance.gameEvents.emit(b.PLAY_SFX,x.ButtonClick)},u.prevPage=function(){this.currentPageIndex--,this.messageText.string=this.popupPages[this.currentPageIndex],this.prevPageBtn.interactable=!1,this.nextPageBtn.interactable=!1,this.currentPageIndex>0&&(this.prevPageBtn.interactable=!0),this.popupPages.length>1&&this.currentPageIndex<this.popupPages.length&&(this.nextPageBtn.interactable=!0),m.instance.gameEvents.emit(b.PLAY_SFX,x.ButtonClick)},u.addButton=function(t,e){var n=this,i=t.buttonPrefabOverride||this.defaultButtonPrefab,a=f(i);null!==e?this.buttonContainer.insertChild(a,e):this.buttonContainer.addChild(a);var r=a.getComponentInChildren(l);return r&&(r.string=t.label),a.on(h.EventType.TOUCH_END,(function(){null==t.callback||t.callback(),m.instance.gameEvents.emit(b.PLAY_SFX,x.ButtonClick),n.anims.forEach((function(t){t.animateExit()}))})),a},e}(P)).prototype,"titleText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(G.prototype,"messageText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(G.prototype,"buttonContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(G.prototype,"defaultButtonPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(G.prototype,"nextPageBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(G.prototype,"prevPageBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=G))||T));u._RF.pop()}}}));

System.register("chunks:///_virtual/HandUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./Card.ts","./Player.ts","./Dealer.ts","./SFXEnums.ts","./GameResultEntry.ts"],(function(e){"use strict";var n,t,r,a,i,s,o,c,l,u,d,f,h,p,m,g,v,E,C,y,b,A,I;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,c=e._decorator,l=e.Prefab,u=e.Node,d=e.Label,f=e.Sprite,h=e.Vec3,p=e.Component,m=e.instantiate,g=e.tween},function(e){v=e.EventManager},function(e){E=e.GameEvent},function(e){C=e.Card},function(e){y=e.Player},function(e){b=e.Dealer},function(e){A=e.SFXID},function(e){I=e.GameResultEntry}],execute:function(){var P,D,S,w,H,R,_,L,T,x,k,N,G,M,F,z,U,X,V,W,O;o._RF.push({},"83764NA4SdJRKrntu/+stLG","HandUIManager",void 0);var Y=c.ccclass,j=c.property;e("HandUIManager",(P=Y("HandUIManager"),D=j({type:I}),S=j(l),w=j(u),H=j(u),R=j(d),_=j(u),L=j(f),T=j(d),x=j(u),P((G=n((N=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,r(n,"resultEntries",G,a(n)),r(n,"cardPrefab",M,a(n)),r(n,"deckPosition",F,a(n)),r(n,"playerCardContainers",z,a(n)),r(n,"playerScoreLabels",U,a(n)),r(n,"handIndicators",X,a(n)),r(n,"resultSprites",V,a(n)),r(n,"dealerScoreLabel",W,a(n)),r(n,"dealerCardContainer",O,a(n)),n.playerAnimationInProgress=0,n.dealerAnimationInProgress=0,n.playerHandCount=0,n}t(n,e);var o=n.prototype;return o.start=function(){v.instance.gameEvents.on(E.GAME_STARTED,this.onGameStarted,this),v.instance.gameEvents.on(E.DEAL_CARD,this.addCardToParticipant,this),v.instance.gameEvents.on(E.SPLIT_HAND,this.animateSplitHand,this),v.instance.gameEvents.on(E.CHANGE_HAND,this.changeHand,this),v.instance.gameEvents.on(E.GAME_ENDED,this.displayResult,this),v.instance.gameEvents.on(E.GAME_RESET,this.resetUI,this),v.instance.gameEvents.on(E.DEALER_TURN_END,this.flipDealerCards,this),this.resetUI()},o.resetUI=function(){console.log("Resetting UI..."),this.playerScoreLabels.forEach((function(e){e.node.active=!1})),this.dealerScoreLabel.node.active=!1,this.playerCardContainers.forEach((function(e){e.removeAllChildren()})),this.dealerCardContainer.removeAllChildren(),this.handIndicators.forEach((function(e){e.active=!1})),this.resultSprites.forEach((function(e){e.node.active=!1})),this.playerHandCount=0},o.onDestroy=function(){v.instance.gameEvents.off(E.GAME_STARTED,this.onGameStarted,this),v.instance.gameEvents.off(E.DEAL_CARD,this.addCardToParticipant,this),v.instance.gameEvents.off(E.GAME_ENDED,this.displayResult,this),v.instance.gameEvents.off(E.GAME_RESET,this.resetUI,this),v.instance.gameEvents.off(E.DEALER_TURN_END,this.flipDealerCards,this)},o.onGameStarted=function(){this.playerHandCount++},o.addCardToParticipant=function(){var e=i(s().mark((function e(n){var t,r,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,n instanceof y?(r=n.getIndex(),t=this.playerCardContainers[r]):n instanceof b&&(t=this.dealerCardContainer),a=n.getHand(),i=t.children.length;case 4:if(!(i<a.length)){e.next=10;break}return e.next=7,this.animateCardToHand(n,t);case 7:i++,e.next=4;break;case 10:v.instance.gameEvents.emit(E.ANIMATION_FINISHED,n);case 11:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),o.animateCardToHand=function(){var e=i(s().mark((function e(n,t){var r,a,o,c,l,u,d,f,h=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.instance.gameEvents.emit(E.PLAY_SFX,A.CardDeal),r=n.getHand(),!((a=t.children.length)>=r.length)){e.next=5;break}return e.abrupt("return");case 5:return o=r[a],c=m(this.cardPrefab),(l=c.addComponent(C)).init(o),n instanceof y?(o.isFaceDown=!1,this.playerAnimationInProgress++,d=n.getIndex(),u=this.playerScoreLabels[d]):n instanceof b&&(o.isFaceDown=0===a&&!n.revealAll,this.dealerAnimationInProgress++,u=this.dealerScoreLabel),t.addChild(c),c.setWorldPosition(this.deckPosition.getWorldPosition()),f=this.getCardTargetPosition(a),e.next=15,new Promise((function(e){g(c).to(.5,{position:f}).call(i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isFaceDown){e.next=5;break}return e.next=3,l.flipCard();case 3:h.checkRemainingAnimation(n),u.string="Hand Value: "+n.getHandValue();case 5:case"end":return e.stop()}}),e)})))).call(e).start()}));case 15:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),o.flipDealerCards=function(){var e=i(s().mark((function e(){var n,t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.dealerCardContainer.children,t=n[0],!(r=t.getComponent(C)).isFaceDown){e.next=7;break}return e.next=6,r.flipCard();case 6:this.checkRemainingAnimation(new b);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.animateSplitHand=function(){var e=i(s().mark((function e(){var n,t,r,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.instance.gameEvents.emit(E.PLAY_SFX,A.CardDeal),n=this.playerCardContainers[0],t=this.playerCardContainers[1],r=n.children[1],a=r.worldPosition.clone(),r.removeFromParent(),t.addChild(r),r.setWorldPosition(a),i=this.getCardTargetPosition(0),e.next=11,new Promise((function(e){g(r).to(.5,{position:i}).call(e).start()}));case 11:this.handIndicators[0].active=!0,this.playerHandCount++;case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.changeHand=function(e){1!=this.playerHandCount&&(this.handIndicators.forEach((function(e){e.active=!1})),this.handIndicators[e].active=!0)},o.checkRemainingAnimation=function(e){e instanceof y?this.playerAnimationInProgress--:e instanceof b&&this.dealerAnimationInProgress--,(this.playerAnimationInProgress<=0&&e instanceof y||this.dealerAnimationInProgress<=0&&e instanceof b)&&(console.log("All animations finished."),v.instance.gameEvents.emit(E.ANIMATION_FINISHED,e))},o.getCardTargetPosition=function(e){var n=e%13*50,t=-40*Math.floor(e/13);return new h(n,t,0)},o.displayResult=function(e){for(var n=this,t=function(t){n.playerScoreLabels[t].node.active=!0,n.handIndicators[t].active=!1;var r=n.resultEntries.find((function(n){return n.result===e[t]}));n.resultSprites[t].spriteFrame=r.spriteFrame,n.resultSprites[t].node.active=!0},r=0;r<e.length;r++)t(r);this.dealerScoreLabel.node.active=!0},n}(p)).prototype,"resultEntries",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(N.prototype,"cardPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(N.prototype,"deckPosition",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(N.prototype,"playerCardContainers",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=n(N.prototype,"playerScoreLabels",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=n(N.prototype,"handIndicators",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=n(N.prototype,"resultSprites",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=n(N.prototype,"dealerScoreLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(N.prototype,"dealerCardContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=N))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GenericAnimation.ts","./AsyncUtils.ts","./BGMEntry.ts","./BGMID.ts","./BGMManager.ts","./SFXEntry.ts","./SFXEnums.ts","./SFXManager.ts","./Card.ts","./CardAsset.ts","./CardData.ts","./ChipButton.ts","./ChipEntry.ts","./ObjectPool.ts","./PoolExhaustedBehavior.ts","./Poolable.ts","./SpecialQueue.ts","./Dealer.ts","./Deck.ts","./GameResultEntry.ts","./GameStateEntry.ts","./BetManager.ts","./BetUIManager.ts","./DeckManager.ts","./EventManager.ts","./GameManager.ts","./HandUIManager.ts","./UIManager.ts","./Participant.ts","./Player.ts","./GenericPopup.ts","./PopupButtonData.ts","./PopupPage.ts","./AnimationType.ts","./GameEvent.ts","./GameResult.ts","./GameState.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolExhaustedBehavior.ts","./Poolable.ts","./SpecialQueue.ts"],(function(e){"use strict";var t,o,i,n,a,r,s,l,u,c,h,p,d,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.Enum,u=e.instantiate,c=e.Vec3,h=e.Component},function(e){p=e.PoolExhaustedBehavior},function(e){d=e.Poolable},function(e){b=e.SpecialQueue}],execute:function(){var v,f,P,m,w,y,N,x,g,j;a._RF.push({},"dcb0dg8K4xBbqzH5L9Py4kP","ObjectPool",void 0);var z=r.ccclass,C=r.property;e("ObjectPool",(v=z("ObjectPool"),f=C(s),P=C({type:l(p)}),m=C({visible:function(){return this.exhaustBehavior===p.ExpandWithLimit}}),v((N=t((y=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"objectToPool",N,n(t)),i(t,"amountToPool",x,n(t)),i(t,"exhaustBehavior",g,n(t)),i(t,"maxPoolSize",j,n(t)),t.availableNodes=[],t.spawnedNodes=new b,t}o(t,e);var a=t.prototype;return a.onLoad=function(){for(var e=0;e<this.amountToPool;e++){var t=u(this.objectToPool);(t.getComponent(d)||t.addComponent(d)).init(this),t.active=!1,t.setParent(this.node),this.availableNodes.push(t)}},a.pop=function(){if(this.availableNodes.length>0){var e=this.availableNodes.pop();return this.spawnedNodes.enqueue(e),e}switch(this.exhaustBehavior){case p.CreateNew:var t=u(this.objectToPool);return(t.getComponent(d)||t.addComponent(d)).init(this),t.active=!1,t.setParent(this.node),this.spawnedNodes.enqueue(t),t;case p.Recycle:if(this.spawnedNodes.count>0){var o=this.spawnedNodes.dequeue();return this.spawnedNodes.enqueue(o),o}break;case p.ExpandWithLimit:if(this.spawnedNodes.count<this.maxPoolSize){var i=u(this.objectToPool);return(i.getComponent(d)||i.addComponent(d)).init(this),i.active=!1,i.setParent(this.node),this.spawnedNodes.enqueue(i),i}break;case p.FailSilently:console.warn("Pool is empty")}return null},a.push=function(e){e.active=!1,e.setPosition(c.ZERO),-1===this.availableNodes.findIndex((function(t){return t===e}))&&this.availableNodes.push(e),this.spawnedNodes.remove(e)},t}(h)).prototype,"objectToPool",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(y.prototype,"amountToPool",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),g=t(y.prototype,"exhaustBehavior",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.CreateNew}}),j=t(y.prototype,"maxPoolSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),w=y))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Participant.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9ca24YcEl5GJ5Pn06S+f3Im","Participant",void 0);t("Participant",function(){function t(){this.hand=[],this.revealAll=!1}var e=t.prototype;return e.getHand=function(){return this.hand},e.isBusted=function(){return this.getHandValue()>21},e.hasBlackjack=function(){return 21===this.getHandValue()&&2===this.hand.length},e.addCard=function(t){this.hand.push(t)},e.resetHand=function(){this.hand=[]},e.getHandValue=function(){for(var t,e=0,a=0,r=n(this.hand);!(t=r()).done;){var i=t.value;2===i.values.length&&a++,e+=i.values[0]}for(;a>0&&e+10<=21;)e+=10,a--;return e},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Participant.ts"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},function(n){i=n.Participant}],execute:function(){e._RF.push({},"25a22NSb3dOsbaCb3GsIrA5","Player",void 0);n("Player",function(n){function e(t,e){var i;return(i=n.call(this)||this).name=void 0,i.index=void 0,i.name=t,i.index=e,i}t(e,n);var i=e.prototype;return i.getName=function(){return this.name},i.getIndex=function(){return this.index},i.canSplit=function(){return!0},i.splitHand=function(){return this.hand.splice(1,1)[0]},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/Poolable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,n,l;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,l=o.Component}],execute:function(){var r;e._RF.push({},"68ed1lWa6NO95vvwJkFw7ii","Poolable",void 0);var i=n.ccclass;n.property,o("Poolable",i("Poolable")(r=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return(t=o.call.apply(o,[this].concat(n))||this).pool=null,t}t(e,o);var n=e.prototype;return n.init=function(o){this.pool=o},n.onDisable=function(){this.pool&&this.pool.push(this.node)},e}(l))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/PoolExhaustedBehavior.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var i;e("PoolExhaustedBehavior",void 0),t._RF.push({},"34d28CN/thEupEm2h8pXQBw","PoolExhaustedBehavior",void 0),function(e){e[e.CreateNew=0]="CreateNew",e[e.Recycle=1]="Recycle",e[e.ExpandWithLimit=2]="ExpandWithLimit",e[e.FailSilently=3]="FailSilently"}(i||(i=e("PoolExhaustedBehavior",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/PopupButtonData.ts",["cc"],(function(t){"use strict";var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"f721cFwx/5PIoSeXluJNJU2","PopupButtonData",void 0);t("PopupButtonData",(function(t,u,e){this.label=void 0,this.callback=void 0,this.buttonPrefabOverride=void 0,this.label=t,this.callback=u,this.buttonPrefabOverride=null!=e?e:null}));u._RF.pop()}}}));

System.register("chunks:///_virtual/PopupPage.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"999fe3MVuFIJIFkSPvjE/gs","PopupPage",void 0);e("PopupPage",(function(e,t){this.pageNumber=e,this.content=t}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SFXEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SFXEnums.ts"],(function(t){"use strict";var i,e,r,n,o,u,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,o=t.Enum,u=t.AudioClip},function(t){c=t.SFXID,l=t.SFXGroup}],execute:function(){var p,a,s,y,f,b,g,F,h;r._RF.push({},"471af6pXA5Iwqgv8g5QsV4C","SFXEntry",void 0);var S=n.ccclass,X=n.property;t("SFXEntry",(p=S("SFXEntry"),a=X({type:o(c)}),s=X({type:u}),y=X({type:o(l)}),p((g=i((b=function(){e(this,"id",g,this),e(this,"clip",F,this),e(this,"group",h,this)}).prototype,"id",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.ButtonClick}}),F=i(b.prototype,"clip",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=i(b.prototype,"group",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.UI}}),f=b))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/SFXEnums.ts",["cc"],(function(i){"use strict";var n;return{setters:[function(i){n=i.cclegacy}],execute:function(){var t,e;i({SFXGroup:void 0,SFXID:void 0}),n._RF.push({},"b0bb6ld4SlOibz8GEz/cpaU","SFXEnums",void 0),function(i){i[i.ButtonClick=0]="ButtonClick",i[i.CoinDrop=1]="CoinDrop",i[i.CardDeal=2]="CardDeal",i[i.CardFlip=3]="CardFlip",i[i.Chip=4]="Chip",i[i.Win=5]="Win",i[i.Lose=6]="Lose"}(t||(t=i("SFXID",{}))),function(i){i[i.UI=0]="UI",i[i.Gameplay=1]="Gameplay",i[i.Ambient=2]="Ambient"}(e||(e=i("SFXGroup",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/SFXManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SFXEntry.ts","./EventManager.ts","./GameEvent.ts"],(function(e){"use strict";var t,r,n,o,i,a,s,u,p,c,l,f,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,u=e.Prefab,p=e.instantiate,c=e.AudioSource,l=e.Component},function(e){f=e.SFXEntry},function(e){g=e.EventManager},function(e){h=e.GameEvent}],execute:function(){var y,v,d,M,S,m,F;a._RF.push({},"0b72cq4oRhOArFtlZJsdFdL","SFXManager",void 0);var b=s.ccclass,E=s.property;e("SFXManager",(y=b("SFXManager"),v=E({type:u}),d=E({type:[f]}),y((m=t((S=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"sfxAudioSourcePrefab",m,o(t)),n(t,"sfxEntries",F,o(t)),t.sfxMap=new Map,t.groupMap=new Map,t.groupVolumes=new Map,t}r(t,e);var a=t.prototype;return a.onLoad=function(){for(var e,t=i(this.sfxEntries);!(e=t()).done;){var r=e.value,n=p(this.sfxAudioSourcePrefab);n.setParent(this.node),n.active=!1;var o=n.getComponent(c);o.clip=r.clip,this.sfxMap.set(r.id,o),this.groupMap.has(r.group)||this.groupMap.set(r.group,[]),this.groupMap.get(r.group).push(o),this.groupVolumes.has(r.group)||this.groupVolumes.set(r.group,1)}},a.start=function(){g.instance.gameEvents.on(h.PLAY_SFX,this.playSFXByID,this)},a.onDestroy=function(){g.instance.gameEvents.off(h.PLAY_SFX,this.playSFXByID,this)},a.playSFXByID=function(e){var t,r=this.sfxMap.get(e),n=this.sfxEntries.find((function(t){return t.id===e}));if(r&&n){var o=null!=(t=this.groupVolumes.get(n.group))?t:1;r?r.playOneShot(r.clip,o):console.warn("[SFXManager] Clip not found: "+e)}},a.setGroupVolume=function(e,t){this.groupVolumes.set(e,t)},a.muteGroup=function(e){this.setGroupVolume(e,0)},t}(l)).prototype,"sfxAudioSourcePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(S.prototype,"sfxEntries",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=S))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/SpecialQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"3cd82bjJohBWqDNxcUYgqmP","SpecialQueue",void 0);t("SpecialQueue",function(){function t(){this.list=[]}var n=t.prototype;return n.enqueue=function(t){this.list.push(t)},n.dequeue=function(){return this.list.shift()},n.peek=function(){return this.list[0]},n.remove=function(t){var e=this.list.indexOf(t);return e>=0&&(this.list.splice(e,1),!0)},n.contains=function(t){return this.list.some((function(e){return e===t}))},e(t,[{key:"count",get:function(){return this.list.length}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./GameEvent.ts","./GameStateEntry.ts","./SFXEnums.ts","./GenericPopup.ts","./PopupButtonData.ts","./PopupPage.ts","./AnimationType.ts"],(function(t){"use strict";var n,e,i,a,s,o,u,r,l,c,p,h,d,f,g,v,B,E,b,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.createForOfIteratorHelperLoose,o=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){r=t.cclegacy,l=t._decorator,c=t.Sprite,p=t.Button,h=t.Component},function(t){d=t.EventManager},function(t){f=t.GameEvent},function(t){g=t.GameStateEntry},function(t){v=t.SFXID},function(t){B=t.GenericPopup},function(t){E=t.PopupButtonData},function(t){b=t.PopupPage},function(t){m=t.AnimationType}],execute:function(){var y,S,I,P,A,T,_,w,C,G,D,F,U,N,R,M,L,z,H,k,O;r._RF.push({},"b1d26QNaihKl45SG/arX042","UIManager",void 0);var X=l.ccclass,K=l.property;t("UIManager",(y=X("UIManager"),S=K(c),I=K({type:g}),P=K(p),A=K(p),T=K(p),_=K(p),w=K(p),C=K(p),G=K(B),y((U=n((F=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s))||this,i(n,"stateSprite",U,a(n)),i(n,"gameStateEntries",N,a(n)),i(n,"dealButton",R,a(n)),i(n,"hitButton",M,a(n)),i(n,"standButton",L,a(n)),i(n,"doubleButton",z,a(n)),i(n,"resetButton",H,a(n)),i(n,"splitButton",k,a(n)),i(n,"popup",O,a(n)),n.playerHandCount=0,n}e(n,t);var r=n.prototype;return r.start=function(){d.instance.gameEvents.on(f.ADD_CHIP_UI,this.onChipAdd,this),d.instance.gameEvents.on(f.GAME_STARTED,this.onGameStarted,this),d.instance.gameEvents.on(f.OFFER_INSURANCE,this.showInsurancePopup,this),d.instance.gameEvents.on(f.SPLIT_HAND,this.disableSplitButton,this),d.instance.gameEvents.on(f.GAME_ENDED,this.displayResult,this),d.instance.gameEvents.on(f.GAMESTATE_CHANGED,this.displayGameState,this),d.instance.gameEvents.on(f.GAME_RESET,this.resetUI,this),d.instance.gameEvents.on(f.LOCK_INPUT,this.lockInput,this),d.instance.gameEvents.on(f.UNLOCK_INPUT,this.unlockInput,this),this.attachPlaySFXToButton(this.node.parent),this.resetUI()},r.resetUI=function(){console.log("Resetting UI..."),this.dealButton.interactable=!1,this.dealButton.node.active=!0,this.hitButton.node.active=!1,this.standButton.node.active=!1,this.doubleButton.node.active=!1,this.stateSprite.node.active=!1,this.resetButton.node.active=!1,this.splitButton.node.active=!1,this.playerHandCount=0},r.onDestroy=function(){d.instance.gameEvents.off(f.ADD_CHIP_UI,this.onChipAdd,this),d.instance.gameEvents.off(f.SPLIT_HAND,this.disableSplitButton,this),d.instance.gameEvents.off(f.GAME_STARTED,this.onGameStarted,this),d.instance.gameEvents.off(f.OFFER_INSURANCE,this.showInsurancePopup,this),d.instance.gameEvents.off(f.GAME_ENDED,this.displayResult,this),d.instance.gameEvents.off(f.GAME_RESET,this.resetUI,this),d.instance.gameEvents.off(f.GAMESTATE_CHANGED,this.displayGameState,this),d.instance.gameEvents.off(f.LOCK_INPUT,this.lockInput,this),d.instance.gameEvents.off(f.UNLOCK_INPUT,this.unlockInput,this)},r.onChipAdd=function(){this.dealButton.interactable=!0},r.onGameStarted=function(){var t=o(u().mark((function t(n){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.dealButton.node.active=!1,this.hitButton.node.active=!0,this.standButton.node.active=!0,this.doubleButton.node.active=!0,this.splitButton.node.active=!0,n.canSplit()?this.splitButton.interactable=!0:(this.splitButton.interactable=!1,e=this.splitButton.transition,this.splitButton.transition=p.Transition.COLOR,this.splitButton.transition=e),this.playerHandCount++;case 7:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),r.displayResult=function(){this.hitButton.node.active=!1,this.standButton.node.active=!1,this.resetButton.node.active=!0,this.doubleButton.node.active=!1,this.splitButton.node.active=!1},r.displayGameState=function(t){var n=this.gameStateEntries.find((function(n){return n.gameState===t}));n?(this.stateSprite.node.active=!0,this.stateSprite.spriteFrame=n.spriteFrame):this.stateSprite.node.active=!1},r.attachPlaySFXToButton=function(t){for(var n,e=t.getComponentsInChildren(p),i=s(e);!(n=i()).done;){n.value.node.on(p.EventType.CLICK,this.playButtonSFX,this)}},r.playButtonSFX=function(){d.instance.gameEvents.emit(f.PLAY_SFX,v.ButtonClick)},r.disableSplitButton=function(){this.splitButton.interactable=!1},r.showInsurancePopup=function(){var t=[];t.push(new E("Yes",this.useInsurance)),t.push(new E("No")),this.popup.show("Insurance","Do you want to use Insurance?",t)},r.useInsurance=function(){},r.lockInput=function(){this.dealButton.interactable=!1,this.hitButton.interactable=!1,this.standButton.interactable=!1,this.doubleButton.interactable=!1,this.resetButton.interactable=!1,this.splitButton.interactable=!1},r.unlockInput=function(){this.dealButton.interactable=!0,this.hitButton.interactable=!0,this.standButton.interactable=!0,this.doubleButton.interactable=!0,this.resetButton.interactable=!0},r.displayRule=function(){var t=[];t.push(new E("Close"));var n=[];n.push(new b(0,"Popup Page 1 Testing testing testing testing.  testinv v v.  testintestingvtesting")),n.push(new b(1,"Popup Page 2 testing testing testing testing testing testing")),n.push(new b(2,"Popup Page 3.  testintesting. testing testing testing.  testintesting testing testing testing \n testing v testing testing testing"));var e=[m.Fade,m.FlyTop],i=[m.Fade,m.FlyTop];this.popup.show("Rules",n,t,e,i)},n}(h)).prototype,"stateSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(F.prototype,"gameStateEntries",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(F.prototype,"dealButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(F.prototype,"hitButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(F.prototype,"standButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(F.prototype,"doubleButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(F.prototype,"resetButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(F.prototype,"splitButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(F.prototype,"popup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=F))||D));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});